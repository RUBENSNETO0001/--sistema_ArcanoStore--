{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL = 'http://localhost/--sistema_ArcanoStore--/system-admin/back-end/servicosistema/api.php';\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Fazendo requisição via proxy para:', url);\n    try {\n      const response = await fetch(url, {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        ...options\n      });\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('text/html')) {\n        throw new Error('API retornou HTML em vez de JSON');\n      }\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const text = await response.text();\n      if (!text) {\n        throw new Error('Resposta vazia da API');\n      }\n      const data = JSON.parse(text);\n      if (!data.success) {\n        throw new Error(data.message || 'Erro na requisição');\n      }\n      return data;\n    } catch (error) {\n      console.error('API Error:', error.message);\n      // Fallback para dados mock\n      return this.getMockData(endpoint);\n    }\n  }\n\n  // Método para retornar dados mock quando a API falhar\n  getMockData(endpoint) {\n    const mockData = {\n      '?action=getDashboardStats': {\n        success: true,\n        data: {\n          totalSales: 1666.30,\n          totalOrders: 8,\n          totalProducts: 3,\n          totalCustomers: 5\n        }\n      },\n      '?action=getProducts': {\n        success: true,\n        data: [{\n          id_produto: 1,\n          nome_produto: 'Gachiakuta Volume 01',\n          preco: 50.90,\n          desconto_percentual: 25.00,\n          e_novo: 1,\n          estoque: 8,\n          categoria: 'Manga',\n          imagem_url: 'https://img.assinaja.com/assets/tZ/099/img/512813_520x520.png'\n        }, {\n          id_produto: 2,\n          nome_produto: 'Caneca do pico',\n          preco: 40.90,\n          desconto_percentual: 0.00,\n          e_novo: 0,\n          estoque: 3,\n          categoria: 'Caneca',\n          imagem_url: 'https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcQrjob0f7BpjcXVOAylOww7zjT_-boZ0YYFTQ88rj9xLyDxwsCbi8MHePkgATWRTUD_suN88eAAV6PNH2W1-jq_vgWAbpRXKXTtgO5vH6kqkRrCH-jg2H8FXA'\n        }]\n      },\n      '?action=getOrders': {\n        success: true,\n        data: [{\n          id_pedido: 1,\n          id_cliente: 3,\n          valor_total: 150.00,\n          status: 'Aprovado',\n          data_pedido: '2025-11-26T21:08:33',\n          item_principal: 'Gachiakuta V.01 + Caneca',\n          cliente_nome: 'admin da silva'\n        }, {\n          id_pedido: 2,\n          id_cliente: 4,\n          valor_total: 320.50,\n          status: 'Aprovado',\n          data_pedido: '2025-11-26T17:08:33',\n          item_principal: 'Pulseira One Piece',\n          cliente_nome: 'RUBENS NETO MARTINS SUAREZ'\n        }]\n      }\n    };\n    return Promise.resolve(mockData[endpoint] || {\n      success: false,\n      data: []\n    });\n  }\n\n  // Products\n  async getProducts() {\n    return this.request('?action=getProducts');\n  }\n  async getOrders() {\n    return this.request('?action=getOrders');\n  }\n  async getDashboardStats() {\n    return this.request('?action=getDashboardStats');\n  }\n  async createProduct(productData) {\n    return this.request('', {\n      method: 'POST',\n      body: JSON.stringify({\n        action: 'createProduct',\n        data: productData\n      })\n    });\n  }\n  async deleteProduct(id) {\n    return this.request('', {\n      method: 'DELETE',\n      body: JSON.stringify({\n        action: 'deleteProduct',\n        id: id\n      })\n    });\n  }\n  async updateOrderStatus(id, status) {\n    return this.request('', {\n      method: 'POST',\n      body: JSON.stringify({\n        action: 'updateOrderStatus',\n        id: id,\n        status: status\n      })\n    });\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","request","endpoint","options","url","console","log","response","fetch","headers","contentType","get","includes","Error","ok","status","text","data","JSON","parse","success","message","error","getMockData","mockData","totalSales","totalOrders","totalProducts","totalCustomers","id_produto","nome_produto","preco","desconto_percentual","e_novo","estoque","categoria","imagem_url","id_pedido","id_cliente","valor_total","data_pedido","item_principal","cliente_nome","Promise","resolve","getProducts","getOrders","getDashboardStats","createProduct","productData","method","body","stringify","action","deleteProduct","id","updateOrderStatus"],"sources":["/opt/lampp/htdocs/--sistema_ArcanoStore--/system-admin/src/services/api.jsx"],"sourcesContent":["// src/services/api.js\nconst API_BASE_URL = 'http://localhost/--sistema_ArcanoStore--/system-admin/back-end/servicosistema/api.php';\n\nclass ApiService {\n     async request(endpoint, options = {}) {\n        const url = `${API_BASE_URL}${endpoint}`;\n        \n        console.log('Fazendo requisição via proxy para:', url);\n        \n        try {\n            const response = await fetch(url, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...options.headers,\n                },\n                ...options,\n            });\n\n            const contentType = response.headers.get('content-type');\n            if (contentType && contentType.includes('text/html')) {\n                throw new Error('API retornou HTML em vez de JSON');\n            }\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const text = await response.text();\n            \n            if (!text) {\n                throw new Error('Resposta vazia da API');\n            }\n\n            const data = JSON.parse(text);\n            \n            if (!data.success) {\n                throw new Error(data.message || 'Erro na requisição');\n            }\n\n            return data;\n        } catch (error) {\n            console.error('API Error:', error.message);\n            // Fallback para dados mock\n            return this.getMockData(endpoint);\n        }\n    }\n\n    // Método para retornar dados mock quando a API falhar\n    getMockData(endpoint) {\n        const mockData = {\n            '?action=getDashboardStats': {\n                success: true,\n                data: {\n                    totalSales: 1666.30,\n                    totalOrders: 8,\n                    totalProducts: 3,\n                    totalCustomers: 5\n                }\n            },\n            '?action=getProducts': {\n                success: true,\n                data: [\n                    {\n                        id_produto: 1,\n                        nome_produto: 'Gachiakuta Volume 01',\n                        preco: 50.90,\n                        desconto_percentual: 25.00,\n                        e_novo: 1,\n                        estoque: 8,\n                        categoria: 'Manga',\n                        imagem_url: 'https://img.assinaja.com/assets/tZ/099/img/512813_520x520.png'\n                    },\n                    {\n                        id_produto: 2,\n                        nome_produto: 'Caneca do pico',\n                        preco: 40.90,\n                        desconto_percentual: 0.00,\n                        e_novo: 0,\n                        estoque: 3,\n                        categoria: 'Caneca',\n                        imagem_url: 'https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcQrjob0f7BpjcXVOAylOww7zjT_-boZ0YYFTQ88rj9xLyDxwsCbi8MHePkgATWRTUD_suN88eAAV6PNH2W1-jq_vgWAbpRXKXTtgO5vH6kqkRrCH-jg2H8FXA'\n                    }\n                ]\n            },\n            '?action=getOrders': {\n                success: true,\n                data: [\n                    {\n                        id_pedido: 1,\n                        id_cliente: 3,\n                        valor_total: 150.00,\n                        status: 'Aprovado',\n                        data_pedido: '2025-11-26T21:08:33',\n                        item_principal: 'Gachiakuta V.01 + Caneca',\n                        cliente_nome: 'admin da silva'\n                    },\n                    {\n                        id_pedido: 2,\n                        id_cliente: 4,\n                        valor_total: 320.50,\n                        status: 'Aprovado',\n                        data_pedido: '2025-11-26T17:08:33',\n                        item_principal: 'Pulseira One Piece',\n                        cliente_nome: 'RUBENS NETO MARTINS SUAREZ'\n                    }\n                ]\n            }\n        };\n\n        return Promise.resolve(mockData[endpoint] || { success: false, data: [] });\n    }\n\n    // Products\n    async getProducts() {\n        return this.request('?action=getProducts');\n    }\n\n    async getOrders() {\n        return this.request('?action=getOrders');\n    }\n\n    async getDashboardStats() {\n        return this.request('?action=getDashboardStats');\n    }\n\n    async createProduct(productData) {\n        return this.request('', {\n            method: 'POST',\n            body: JSON.stringify({\n                action: 'createProduct',\n                data: productData\n            })\n        });\n    }\n\n    async deleteProduct(id) {\n        return this.request('', {\n            method: 'DELETE',\n            body: JSON.stringify({\n                action: 'deleteProduct',\n                id: id\n            })\n        });\n    }\n\n    async updateOrderStatus(id, status) {\n        return this.request('', {\n            method: 'POST',\n            body: JSON.stringify({\n                action: 'updateOrderStatus',\n                id: id,\n                status: status\n            })\n        });\n    }\n}\n\nexport default new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}