{"ast":null,"code":"// Use caminhos relativos para o proxy funcionar\nconst API_BASE_URL = '/--sistema_ArcanoStore--/system-admin/back-end/servicosistema/api.php';\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Fazendo requisição para:', url);\n    try {\n      const response = await fetch(url, {\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        credentials: 'include',\n        // Importante para cookies/sessões\n        ...options\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const text = await response.text();\n      console.log('Resposta da API:', text);\n      if (!text) {\n        throw new Error('Resposta vazia da API');\n      }\n      const data = JSON.parse(text);\n      if (!data.success) {\n        throw new Error(data.message || 'Erro na requisição');\n      }\n      return data;\n    } catch (error) {\n      console.error('API Error:', error.message);\n      throw new Error(`Erro de conexão: ${error.message}`);\n    }\n  }\n\n  // ... resto dos métodos permanecem iguais\n  async getProducts() {\n    return this.request('?action=getProducts');\n  }\n  async getOrders() {\n    return this.request('?action=getOrders');\n  }\n  async getDashboardStats() {\n    return this.request('?action=getDashboardStats');\n  }\n  async createProduct(productData) {\n    return this.request('', {\n      method: 'POST',\n      body: JSON.stringify({\n        action: 'createProduct',\n        data: productData\n      })\n    });\n  }\n  async deleteProduct(id) {\n    return this.request('', {\n      method: 'DELETE',\n      body: JSON.stringify({\n        action: 'deleteProduct',\n        id: id\n      })\n    });\n  }\n  async updateOrderStatus(id, status) {\n    return this.request('', {\n      method: 'POST',\n      body: JSON.stringify({\n        action: 'updateOrderStatus',\n        id: id,\n        status: status\n      })\n    });\n  }\n}\nexport default new ApiService();","map":{"version":3,"names":["API_BASE_URL","ApiService","request","endpoint","options","url","console","log","response","fetch","headers","credentials","ok","Error","status","text","data","JSON","parse","success","message","error","getProducts","getOrders","getDashboardStats","createProduct","productData","method","body","stringify","action","deleteProduct","id","updateOrderStatus"],"sources":["/opt/lampp/htdocs/--sistema_ArcanoStore--/system-admin/src/services/api.jsx"],"sourcesContent":["// Use caminhos relativos para o proxy funcionar\nconst API_BASE_URL = '/--sistema_ArcanoStore--/system-admin/back-end/servicosistema/api.php';\n\nclass ApiService {\n    async request(endpoint, options = {}) {\n        const url = `${API_BASE_URL}${endpoint}`;\n        \n        console.log('Fazendo requisição para:', url);\n        \n        try {\n            const response = await fetch(url, {\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...options.headers,\n                },\n                credentials: 'include', // Importante para cookies/sessões\n                ...options,\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n\n            const text = await response.text();\n            console.log('Resposta da API:', text);\n            \n            if (!text) {\n                throw new Error('Resposta vazia da API');\n            }\n\n            const data = JSON.parse(text);\n            \n            if (!data.success) {\n                throw new Error(data.message || 'Erro na requisição');\n            }\n\n            return data;\n        } catch (error) {\n            console.error('API Error:', error.message);\n            throw new Error(`Erro de conexão: ${error.message}`);\n        }\n    }\n\n    // ... resto dos métodos permanecem iguais\n    async getProducts() {\n        return this.request('?action=getProducts');\n    }\n\n    async getOrders() {\n        return this.request('?action=getOrders');\n    }\n\n    async getDashboardStats() {\n        return this.request('?action=getDashboardStats');\n    }\n\n    async createProduct(productData) {\n        return this.request('', {\n            method: 'POST',\n            body: JSON.stringify({\n                action: 'createProduct',\n                data: productData\n            })\n        });\n    }\n\n    async deleteProduct(id) {\n        return this.request('', {\n            method: 'DELETE',\n            body: JSON.stringify({\n                action: 'deleteProduct',\n                id: id\n            })\n        });\n    }\n\n    async updateOrderStatus(id, status) {\n        return this.request('', {\n            method: 'POST',\n            body: JSON.stringify({\n                action: 'updateOrderStatus',\n                id: id,\n                status: status\n            })\n        });\n    }\n}\n\nexport default new ApiService();"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAG,uEAAuE;AAE5F,MAAMC,UAAU,CAAC;EACb,MAAMC,OAAOA,CAACC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IAClC,MAAMC,GAAG,GAAG,GAAGL,YAAY,GAAGG,QAAQ,EAAE;IAExCG,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,GAAG,CAAC;IAE5C,IAAI;MACA,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,EAAE;QAC9BK,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClC,GAAGN,OAAO,CAACM;QACf,CAAC;QACDC,WAAW,EAAE,SAAS;QAAE;QACxB,GAAGP;MACP,CAAC,CAAC;MAEF,IAAI,CAACI,QAAQ,CAACI,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,uBAAuBL,QAAQ,CAACM,MAAM,EAAE,CAAC;MAC7D;MAEA,MAAMC,IAAI,GAAG,MAAMP,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClCT,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEQ,IAAI,CAAC;MAErC,IAAI,CAACA,IAAI,EAAE;QACP,MAAM,IAAIF,KAAK,CAAC,uBAAuB,CAAC;MAC5C;MAEA,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC;MAE7B,IAAI,CAACC,IAAI,CAACG,OAAO,EAAE;QACf,MAAM,IAAIN,KAAK,CAACG,IAAI,CAACI,OAAO,IAAI,oBAAoB,CAAC;MACzD;MAEA,OAAOJ,IAAI;IACf,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZf,OAAO,CAACe,KAAK,CAAC,YAAY,EAAEA,KAAK,CAACD,OAAO,CAAC;MAC1C,MAAM,IAAIP,KAAK,CAAC,oBAAoBQ,KAAK,CAACD,OAAO,EAAE,CAAC;IACxD;EACJ;;EAEA;EACA,MAAME,WAAWA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACpB,OAAO,CAAC,qBAAqB,CAAC;EAC9C;EAEA,MAAMqB,SAASA,CAAA,EAAG;IACd,OAAO,IAAI,CAACrB,OAAO,CAAC,mBAAmB,CAAC;EAC5C;EAEA,MAAMsB,iBAAiBA,CAAA,EAAG;IACtB,OAAO,IAAI,CAACtB,OAAO,CAAC,2BAA2B,CAAC;EACpD;EAEA,MAAMuB,aAAaA,CAACC,WAAW,EAAE;IAC7B,OAAO,IAAI,CAACxB,OAAO,CAAC,EAAE,EAAE;MACpByB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;QACjBC,MAAM,EAAE,eAAe;QACvBd,IAAI,EAAEU;MACV,CAAC;IACL,CAAC,CAAC;EACN;EAEA,MAAMK,aAAaA,CAACC,EAAE,EAAE;IACpB,OAAO,IAAI,CAAC9B,OAAO,CAAC,EAAE,EAAE;MACpByB,MAAM,EAAE,QAAQ;MAChBC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;QACjBC,MAAM,EAAE,eAAe;QACvBE,EAAE,EAAEA;MACR,CAAC;IACL,CAAC,CAAC;EACN;EAEA,MAAMC,iBAAiBA,CAACD,EAAE,EAAElB,MAAM,EAAE;IAChC,OAAO,IAAI,CAACZ,OAAO,CAAC,EAAE,EAAE;MACpByB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEX,IAAI,CAACY,SAAS,CAAC;QACjBC,MAAM,EAAE,mBAAmB;QAC3BE,EAAE,EAAEA,EAAE;QACNlB,MAAM,EAAEA;MACZ,CAAC;IACL,CAAC,CAAC;EACN;AACJ;AAEA,eAAe,IAAIb,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}